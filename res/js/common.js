function AHReady(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1);else if(document.attachEvent)document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&a()});else{var b=window.onload;window.onload=function(){b&&b(),a()}}}function $AHC(a){var b=[];if(!document.querySelectorAll||window.attachEvent&&!window.addEventListener){for(var c=document.getElementsByTagName("*"),d=new RegExp("(^|\\s)"+a+"(\\s|$)"),e=c.length,f=0;f<e;f++)d.test(c[f].className)&&b.push(c[f]);c=[]}else b=document.querySelectorAll("."+a);return 1==b.length?b[0]:b}function is_defined(a){return"undefined"!=typeof a}function is_element(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName}function get_object_type(a,b){return Object.prototype.toString.call(a)==="[object "+b+"]"}function $AH(a){return document.getElementById(a)}function find_elem(a,b){var d,c=[],e=get_children(a),f=e.length;for(d=0;d<f;d++)match_context(e[d],b).length>0&&(c.push(e[d]),delete e[d]);return 1==c.length?c[0]:c}function get_children(a){var e,b=a.childNodes,c=b.length,d=[];for(e=0;e<c;e++)if("#text"!=b[e].nodeName&&"#comment"!=b[e].nodeName){d.push(b[e]);var f=get_children(b[e]);f&&foreach(f,function(a){d.push(a)})}return b=[],d}function match_context(a,b){var c=[];if(b=b.replace(/ /g,""),b.indexOf(".")>-1)hasClass(a,b.substr(1))&&c.push(a);else if(b.indexOf("#")>-1)a.id==b.substr(1)&&c.push(a);else if(b.indexOf("[")>-1){var d=b.substr(1);d=d.substr(0,d.length-1),null!=a.getAttribute(d)&&c.push(a)}else a.nodeName==b.toUpperCase()&&c.push(a);return c}function get_node_index(a){for(var b=0;a=a.previousSibling;)3==a.nodeType&&/^\s*$/.test(a.data)||b++;return b}function get_parent(a){return!(!a||!a.parentNode)&&a.parentNode}function get_parents(a){for(var b=[];get_parent(a);)b.push(get_parent(a)),a=get_parent(a);return b}function get_val(a){return is_element(a)?a.value:$AH(a).value}function is_numeric(a){return a-0==a&&trim(""+a).length>0}function remove_elem(a){a&&(a.outerHTML="")}function create_element(a,b){var c=document.createElement(a);return foreach(b,function(a){addClass(c,a)}),c}function create_img(a,b){var c=document.createElement("img");return c.src=a,c.alt=b,c}function set_html(a,b){a&&(a.innerHTML=b)}function get_html(a){return a?a.innerHTML:""}function append_html(a,b){if(a){var c=get_html(a);set_html(a,c+b)}}function prepend_html(a,b){if(a){var c=get_html(a);set_html(a,b+c)}}function add_event(a,b,c){get_object_type(a,"NodeList")||get_object_type(a,"Array")?foreach(a,function(a){add_event_to(a,b,c)}):add_event_to(a,b,c)}function add_event_to(a,b,c){function d(a){var b=c.apply(this,arguments);return b===!1&&(a.stopPropagation(),a.preventDefault()),b}function e(){var b=c.call(a,window.event);return b===!1&&(window.event.returnValue=!1,window.event.cancelBubble=!0),b}a&&(a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent("on"+b,e))}function event_prevent_default(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function event_stop_propagation(a){a.stopPropagation?a.stopPropagation():window.event.cancelBubble=!0}function add_event_on(a,b,c,d){var e,f=!1;b?e=b.indexOf("[")>-1?b.substr(1,b.length-2):b.substr(1):f=!0,add_event(a,c,function(a){if(f)d();else{var b=a.target;if(b||(b=window.event.srcElement),"OPTION"==b.nodeName&&(b=b.parentNode),hasClass(b,e)||b.id==e||void 0!=b.getAttribute(e))return void d(b,a);for(var c=get_parents(b),g=c.length,h=0;h<g;h++)if(hasClass(c[h],e)||c[h].id==e){d(c[h],a);break}}})}function sort_by_key(a,b,c){return"date"==c?a.sort(function(a,b){var c=new Date(a),d=new Date(b);return c<d?-1:c>d?1:0}):"string"==c?a.sort(function(a,c){var d=a[b],e=c[b];return d<e?-1:d>e?1:0}):"numeric"==c?a.sort(function(a,c){var d=a[b],e=c[b];return d-e}):void 0}function add_options(a,b,c,d){b&&set_html(a,""),foreach(c,function(b){var c=document.createElement("OPTION");c.value=b[0],c.text=b[1],d&&d==b[0]&&(c.selected=!0),a.options.add(c)})}function show(a){css(a,{display:"block"})}function hide(a){css(a,{display:"none"})}function toggle_class(a,b){a&&(hasClass(a,b)?removeClass(a,b):addClass(a,b))}function hasClass(a,b){if(a)return(" "+a.className+" ").indexOf(" "+b+" ")>-1}function addClass(a,b){a&&(hasClass(a,b)||(a.className+=" "+b))}function removeClass(a,b){if(a){var c=" "+a.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(a,b)){for(;c.indexOf(" "+b+" ")>=0;)c=c.replace(" "+b+" "," ");a.className=c.replace(/^\s+|\s+$/g,"")}}}function trim(a){return a.replace(/ /g,"")}function foreach(a,b){for(var c,d=a.length,c=0;c<d;c++)b(a[c])}function extend(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a}function overwrite(a,b){var c;a||(a={});for(c in b)void 0!=a[c]&&(a[c]=b[c]);return a}function in_object(a,b){for(var c in b)if(void 0!=b[a])return!0;return!1}function in_array(a,b){for(var c=0;c<b.length;c++)if(a==b[c])return!0;return!1}function remove_from_array(a,b){for(var c=0;c<b.length;c++)a==b[c]&&b.splice(c,1)}function css(a,b){extend(a.style,b)}function get_return_url(){return location.href.substr(29)}function debounce(a,b,c){var d;return function(){function h(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(h,b||100)}}function clear_select_options(a){a.options.length=0}function add_select_option(a,b,c,d){d&&clear_select_options(a);var e=document.createElement("option");e.text=c,e.value=b,a.add(e)}function sefer_hesapla(a,b){if(""==a||""==b)return 0;var c=a.split(":"),d=b.split(":"),e=parseInt(c[0]),f=parseInt(d[0]),g=parseInt(c[1]),h=parseInt(d[1]),i=0,j=0,k=!1;if(d.length<2||c.length<2)return 0;if(e==f)return h-g;if(0==f&&(f=24),0==e&&(e=24),f<e){var l=f,m=h;f=e,e=l,h=g,g=m,k=!0}for(j=e,i+=h,i+=60-g,j++;j!=f;)i+=60,j++;return k?i*-1:i}function manual_serialize(a){var b,c=[],e="";if(Object.size(a)>0){for(b in a)c.push(b+"="+a[b]);e=c.join("&")}return e}function br_string(a,b){return a.length>b?a.substr(0,b)+"<br>"+a.substr(b,a.length):a}function serialize(a){if(a&&"FORM"===a.nodeName){var b,c,d=[];for(b=a.elements.length-1;b>=0;b-=1)if(""!==a.elements[b].name)switch(a.elements[b].nodeName){case"INPUT":switch(a.elements[b].type){case"text":case"hidden":case"password":case"email":case"button":case"reset":case"submit":d.push(a.elements[b].name+"="+encodeURIComponent(a.elements[b].value));break;case"checkbox":case"radio":a.elements[b].checked&&d.push(a.elements[b].name+"="+encodeURIComponent(a.elements[b].value));break;case"file":}break;case"TEXTAREA":d.push(a.elements[b].name+"="+encodeURIComponent(a.elements[b].value));break;case"SELECT":switch(a.elements[b].type){case"select-one":d.push(a.elements[b].name+"="+encodeURIComponent(a.elements[b].value));break;case"select-multiple":for(c=a.elements[b].options.length-1;c>=0;c-=1)a.elements[b].options[c].selected&&d.push(a.elements[b].name+"="+encodeURIComponent(a.elements[b].options[c].value))}break;case"BUTTON":switch(a.elements[b].type){case"reset":case"submit":case"button":d.push(a.elements[b].name+"="+encodeURIComponent(a.elements[b].value))}}return d.join("&")}}function confirm_alert(a){var b=confirm(a);return b}function fade_in(a){function c(){b+=.1,a.style.opacity=b,b>1&&b<1.1&&clearInterval(d)}var b=0;css(a,{opacity:0});var d=setInterval(c,10)}function get_coords(a){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,g=d.clientTop||c.clientTop||0,h=d.clientLeft||c.clientLeft||0,i=b.top+e-g,j=b.left+f-h;return{top:Math.round(i),left:Math.round(j)}}function reverse_date(a){var b=a.split("-");return b.reverse(),b.join("-")}Object.size=function(a){var c,b=0;for(c in a)a.hasOwnProperty(c)&&b++;return b};var AHAJAX_V3={req:function(a,b,c){function h(){if(!(d.readyState<4)&&(d.onerror=function(){console.log("Ajax request failed")},4===d.readyState&&200===d.status)){var a=JSON.parse(d.responseText);"function"==typeof c&&c(a)}}var d;if("undefined"!=typeof XMLHttpRequest)d=new XMLHttpRequest;else for(var e=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],f=0,g=e.length;f<g;f++)try{d=new ActiveXObject(e[f]);break}catch(a){}d.onreadystatechange=h,d.open("POST",a,!0),"function"!=typeof b.append&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(b)}},AHAJAX_V3_TEXT={req:function(a,b,c){function h(){d.readyState<4||(d.onerror=function(){console.log("Ajax request failed")},4===d.readyState&&200===d.status?"function"==typeof c&&c(d.responseText):d.status>=500&&d.status<=599&&console.log("AJAX Server hatası."))}var d;if("undefined"!=typeof XMLHttpRequest)d=new XMLHttpRequest;else for(var e=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],f=0,g=e.length;f<g;f++)try{d=new ActiveXObject(e[f]);break}catch(a){}d.onreadystatechange=h,d.open("POST",a,!0),"function"!=typeof b.append&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(b)}},Slider=function(a,b,c){this.init=function(){this.slides=[],this.thumbs=[];var c,d,e,f,g,h,i,j,k,l=document.createElement("ul"),m=document.createElement("ul");l.className="slides",addClass(l,"clearfix"),m.className="slider-thumbs",addClass(m,"clearfix"),a.appendChild(l),a.appendChild(m);for(var n=0;n<b.length;n++){var o=b[n];d=document.createElement("li"),c=document.createElement("li"),e=document.createElement("a"),e.href="",f=document.createElement("img"),f.src="res/img/slider/test"+o.test+".png",f.alt=o.title,g=document.createElement("div"),g.className="mobile-slider-desc",set_html(g,o.desc),e.appendChild(f),e.appendChild(g),d.appendChild(e),h=document.createElement("div"),h.className="custom-bullet",i=document.createElement("div"),i.className="thumb-content",j=document.createElement("span"),j.className="thumb-title",set_html(j,o.title),k=document.createElement("span"),k.className="thumb-desc",set_html(k,o.desc),i.appendChild(j),i.appendChild(k),c.appendChild(h),c.appendChild(i),l.appendChild(d),m.appendChild(c),this.slides.push(d),this.thumbs.push(c)}foreach(this.thumbs,function(a){css(a,{width:100/b.length+"%"})}),addClass(this.slides[0],"active"),addClass(this.thumbs[0],"active"),this.current_index=0;var p=this;foreach(this.thumbs,function(a){add_event(a,"click",function(){p.click(this)})})},this.click=function(a){var b=get_node_index(a);return b!=this.current_index&&(removeClass(this.thumbs[this.current_index],"active"),removeClass(this.slides[this.current_index],"active"),addClass(a,"active"),addClass(this.slides[get_node_index(a)],"active"),void(this.current_index=get_node_index(a)))}},Filo_Senkronizasyon={BOLGELER:{A:"dk_oasa",B:"dk_oasb",C:"dk_oasc"},REFRESH_INTERVAL_FREKANS:7e3,DB_KAYDET_INTERVAL_FREKANS:1e3,OTO_REFRESH_FREKANS:1800,REQUEST_COUNTER:0,TOTAL_REQ_COUNT:0,SENKRONIZASYON_YAPILIYOR:!1,ITEM_DATA:{},FORM_DATA:new FormData,STATUS:"",DB_KAYDET_INTERVAL:!1,REFRESH_INTERVAL:!1,OTOBUSLER:{},SON_UNIX:0,GUNCELLE_FLAG:!1,REFRESH_AFTER_CB:!1,MANUEL_TETIK_FLAG:!1,HATLAR:[],INIT:function(a,b){this.OTOBUSLER=a,this.SON_UNIX=b,this.REFRESH_INTERVAL=setInterval(this.Interval_Kontrol,this.REFRESH_INTERVAL_FREKANS)},Manuel_Tetik:function(a,b,c){clearInterval(this.REFRESH_INTERVAL),this.OTOBUSLER=a,this.OTO_REFRESH_FREKANS=b,this.SON_UNIX=Math.floor(Date.now()/1e3),this.MANUEL_TETIK_FLAG=!0,this.REFRESH_INTERVAL=setInterval(this.Interval_Kontrol,this.REFRESH_INTERVAL_FREKANS),this.REFRESH_AFTER_CB=c},ORER_Refresh:function(a,b){console.log("Güncelleniyor"),show($AH("header-loader")),clearInterval(this.REFRESH_INTERVAL),this.OTOBUSLER=a,this.DB_KAYDET_INTERVAL=setInterval(this.DB_Kaydet,this.DB_KAYDET_INTERVAL_FREKANS),this.FORM_DATA=new FormData,this.ITEM_DATA={},this.SENKRONIZASYON_YAPILIYOR=!0,this.FORM_DATA.append("type","filo_orer_senkronizasyon"),this.FORM_DATA.append("log_type",b);for(var c in this.OTOBUSLER){this.ITEM_DATA[c]={};for(var d=0;d<this.OTOBUSLER[c].length;d++)this.ORER_Request(d,c),this.TOTAL_REQ_COUNT++}},ORER_Request:function(a,b){var c=[];"Bölge: "+b+" /  KapıNo: "+this.OTOBUSLER[b][a];this.ITEM_DATA[b][this.OTOBUSLER[b][a]]=[],AHAJAX_V3_TEXT.req("http://ahsaphobby.net/otobus/iett/filo_veri_download/request.php",manual_serialize({type:"filo_orer_guncelle",bolge:b,kapi_no:this.OTOBUSLER[b][a]}),function(d){c=[],set_html($AH("senkronizasyon_container"),d);for(var e=find_elem($AH("senkronizasyon_container"),"tbody").childNodes,f=0;f<e.length;f++)(hasClass(e[f],"yazid")||hasClass(e[f],"yazim")||hasClass(e[f],"yazit")||hasClass(e[f],"yazik")||hasClass(e[f],"yazi"))&&c.push(e[f]);var g;if(c.length>0)for(var h=0;h<c.length;h++){g=c[h].childNodes;var i=c[h].innerHTML,j=g[1].innerText.trim();j.indexOf("*")>-1?(j=j.substr(1),j=j.substr(0,j.indexOf("*"))):j.indexOf("!")>-1?(j=j.substr(1),j=j.substr(0,j.indexOf("!"))):j.indexOf("#")>-1&&(j=j.substr(1),j=j.substr(0,j.indexOf("#")));var k=g[3].innerText.trim();k.indexOf(" ")>-1&&(k=k.substr(0,k.indexOf(" "))),Filo_Senkronizasyon.ITEM_DATA[b][Filo_Senkronizasyon.OTOBUSLER[b][a]].push(JSON.stringify({no:g[0].innerText.trim(),hat:j,servis:g[2].innerText.trim(),guzergah:k,oto:g[4].innerText.trim().substr(2),surucu:g[5].innerText.trim().substr(1),gelis:g[6].innerText.trim(),orer:g[7].innerText.trim(),amir:g[8].innerText.trim(),gidis:g[9].innerText.trim(),tahmin:g[10].innerText.trim(),bitis:g[11].innerText.trim(),durum_kodu:g[13].innerText.substr(6).trim(),sure:i.substr(i.indexOf("Sefer süresi:")+14,i.indexOf("dk.")-i.indexOf("Sefer süresi:")-14).trim(),durum:g[12].innerText.trim()}))}else Filo_Senkronizasyon.ITEM_DATA[b][Filo_Senkronizasyon.OTOBUSLER[b][a]]="BOS";Filo_Senkronizasyon.REQUEST_COUNTER++})},ORER_Sefer_Takip:function(a,b){show($AH("header-loader"));var c=[],d=this.BOLGELER[a.substr(0,1)];AHAJAX_V3_TEXT.req("http://ahsaphobby.net/otobus/iett/filo_veri_download/request.php",manual_serialize({type:"filo_orer_guncelle",bolge:d,kapi_no:a}),function(a){c=[],set_html($AH("senkronizasyon_container"),a);var d=find_elem($AH("senkronizasyon_container"),"tbody").childNodes;if(void 0!=d){for(var e=0;e<d.length;e++)(hasClass(d[e],"yazid")||hasClass(d[e],"yazim")||hasClass(d[e],"yazik")||hasClass(d[e],"yazi"))&&c.push(d[e]);var f;if(c.length>0)for(var g=0;g<c.length;g++)if(f=c[g].childNodes,"A"==f[12].innerText){if(f[3].innerHTML.indexOf("Durak izdusumu")>-1)var h=f[3].innerHTML.substr(f[3].innerHTML.indexOf("Durak izdusumu: ")+16,f[3].innerHTML.indexOf(" ve ilk Durak")-f[3].innerHTML.indexOf("Durak izdusumu: ")-16);if(f[7].innerHTML.indexOf("Sonraki Sefer Saati")>-1)var i="Beklenen ortalama tamamlama saati: "+f[7].innerHTML.substr(f[7].innerHTML.indexOf("Beklenen ortalama tamamlama saati  :")+36,f[7].innerHTML.indexOf("Beklenen ortalama tamamlama saati  :")+41-f[7].innerHTML.indexOf("Beklenen ortalama tamamlama saati  :")-36)}void 0==h&&(h="Veri yok."),void 0==i&&(i="Veri yok."),b(h,i),hide($AH("header-loader"))}})},ORER_Harita_Takip_Refresh:function(a){},ORER_Harita_Takip_Request:function(){},DB_Kaydet:function(){Filo_Senkronizasyon.SENKRONIZASYON_YAPILIYOR&&Filo_Senkronizasyon.REQUEST_COUNTER>0&&Filo_Senkronizasyon.REQUEST_COUNTER==Filo_Senkronizasyon.TOTAL_REQ_COUNT&&(Filo_Senkronizasyon.FORM_DATA.append("items",JSON.stringify(Filo_Senkronizasyon.ITEM_DATA)),console.log("Veritabanına kaydediliyor.."),AHAJAX_V3.req(Base.AJAX_URL+"filo_senkronizasyon.php",Filo_Senkronizasyon.FORM_DATA,function(a){console.log("VT Güncel"),console.log(a),Filo_Senkronizasyon.MANUEL_TETIK_FLAG?Filo_Senkronizasyon.SON_UNIX=Math.floor(Date.now()/1e3):Filo_Senkronizasyon.SON_UNIX=a.son_unix,Filo_Senkronizasyon.REFRESH_INTERVAL=setInterval(Filo_Senkronizasyon.Interval_Kontrol,Filo_Senkronizasyon.REFRESH_INTERVAL_FREKANS),hide($AH("header-loader")),"function"==typeof Filo_Senkronizasyon.REFRESH_AFTER_CB&&Filo_Senkronizasyon.REFRESH_AFTER_CB(Filo_Senkronizasyon.ITEM_DATA)}),console.log(Filo_Senkronizasyon.ITEM_DATA),clearInterval(Filo_Senkronizasyon.DB_KAYDET_INTERVAL),Filo_Senkronizasyon.REQUEST_COUNTER=0,Filo_Senkronizasyon.TOTAL_REQ_COUNT=0,Filo_Senkronizasyon.SENKRONIZASYON_YAPILIYOR=!1,set_html($AH("senkronizasyon_container"),""))},Interval_Kontrol:function(){console.log("Güncelleme kontrolü ( Kalan süre : "+(Filo_Senkronizasyon.OTO_REFRESH_FREKANS-(Math.floor(Date.now()/1e3)-Filo_Senkronizasyon.SON_UNIX))+" saniye )"),Math.floor(Date.now()/1e3)-Filo_Senkronizasyon.SON_UNIX>=Filo_Senkronizasyon.OTO_REFRESH_FREKANS&&Filo_Senkronizasyon.ORER_Refresh(Filo_Senkronizasyon.OTOBUSLER,"komple")}},SectionTab=function(a,b,c){this.init=function(){this.page_count=1,this.active_page=1,this.active_rows=[],this.section_rows=[];for(var e,f,g,h,i,d=create_element("div",["section-row","clearfix"]),j=1,k=0;k<b.length;k++)e=create_element("div",["gal-item"]),f=create_element("div",["gal-item-container"]),g=create_element("div",["gal-item-thumb"]),h=create_element("div",["gal-item-content"]),g.appendChild(create_img(b[k].img,b[k].title)),i=create_element("span",["gal-item-title"]),set_html(i,b[k].title),h.appendChild(i),h.appendChild(this.create_tag_span(b[k].tags)),f.appendChild(g),f.appendChild(h),e.appendChild(f),d.appendChild(e),add_event(e,"click",function(){window.location=b[k].href}),4!=j&&k!=b.length-1||(a.appendChild(d),this.section_rows.push(d),d=create_element("div",["section-row","clearfix"]),j=0),j++;this.total_row_count=this.section_rows.length,this.page_count=Math.ceil(this.total_row_count/c.row_count);for(var k=0;k<c.row_count;k++)addClass(this.section_rows[k],"active"),this.active_rows.push(k);if(this.prev_buton=find_elem(a.parentNode,".section-tab-prev"),this.next_buton=find_elem(a.parentNode,".section-tab-next"),1==this.page_count)hide(this.prev_buton),hide(this.next_buton);else{var l=this;add_event(this.next_buton,"click",function(a){l.next_page()}),add_event(this.prev_buton,"click",function(a){l.prev_page()})}},this.next_page=function(){for(var a,b=this.active_rows[0];b<this.active_rows[0]+c.row_count;b++)removeClass(this.section_rows[b],"active");if(this.active_rows=[],this.active_page==this.page_count){this.active_page=1;for(var b=0;b<c.row_count;b++)addClass(this.section_rows[b],"active"),this.active_rows.push(b)}else{this.active_page++,a=this.active_page*c.row_count-c.row_count;for(var b=a;b<a+c.row_count;b++)b<this.total_row_count&&(addClass(this.section_rows[b],"active"),b<this.total_row_count&&this.active_rows.push(b))}},this.prev_page=function(){for(var a,b=this.active_rows[0];b<this.active_rows[0]+c.row_count;b++)removeClass(this.section_rows[b],"active");if(this.active_rows=[],1==this.active_page){this.active_page=this.page_count,a=this.total_row_count-c.row_count+1;for(var b=a;b<a+c.row_count;b++)addClass(this.section_rows[b],"active"),this.active_rows.push(b)}else{this.active_page--,a=this.active_page*c.row_count-c.row_count;for(var b=a;b<a+c.row_count;b++)addClass(this.section_rows[b],"active"),b<this.total_row_count&&this.active_rows.push(b)}},this.create_tag_span=function(a){var c,d,b=create_element("span",["gal-item-tags"]);return foreach(a,function(a){c=document.createElement("a"),c.href="?tag="+a,c.className="tag",d=document.createElement("i"),d.className="tag",set_html(d,a),c.appendChild(d),b.appendChild(c)}),b}},jwTab=function(a){this.init=function(){this.bullets=find_elem(a.container,".tab-button"),this.divs=find_elem(a.container,"[tabdiv]"),this.active_index=0,addClass(this.bullets[0],"selected"),addClass(this.divs[0],"active");var b=this;add_event(this.bullets,"click",function(a){b.activate(this)})},this.activate=function(a){if(null==a.getAttribute("tab-toggle")){var b=get_node_index(a.parentNode);b!=this.active_index&&(removeClass(this.divs[this.active_index],"active"),removeClass(this.bullets[this.active_index],"selected"),addClass(this.divs[b],"active"),addClass(this.bullets[b],"selected"),this.active_index=b)}else for(var c=0;c<this.divs.length;c++)this.divs[c].getAttribute("tabdiv")!=a.getAttribute("tab-toggle")||(removeClass(this.divs[this.active_index],"active"),removeClass(this.bullets[this.active_index],"selected"),addClass(this.divs[c],"active"),addClass(this.bullets[c],"selected"),this.active_index=c)}},FormValidation={errors:[],list:[],form_prefix:"",error_messages:{posnum:"Numerik veya sıfırdan büyük olmalıdır.",req:"Boş bırakılamaz.",not_zero:"Sıfırdan büyük olmalıdır.",email:"Lütfen geçerli bir eposta adresi girin.",select_no_zero:"Boş bırakılamaz."},submit_btns:[],find_inputs:function(a){this.list=[],this.form_prefix=a.id;var c,b=a;for(c=0;c<=b.elements.length;c++)void 0!=b.elements[c]&&((hasClass(b.elements[c],"posnum")||hasClass(b.elements[c],"req")||hasClass(b.elements[c],"not_zero")||hasClass(b.elements[c],"email")||hasClass(b.elements[c],"select_no_zero"))&&("text"!=b.elements[c].type&&"textarea"!=b.elements[c].type&&"password"!=b.elements[c].type&&"email"!=b.elements[c].type&&"select-one"!=b.elements[c].type&&"select-multiple"!=b.elements[c].type&&"checkbox"!=b.elements[c].type||this.list.push(b.elements[c]),"radio"==b.elements[c].type&&b.elements[c].checked&&this.list.push(b.elements[c])),"submit"==b.elements[c].type&&this.submit_btns.push(b.elements[c]))},check:function(a){return this.find_inputs(a),this.check_input(this.list),!!this.is_valid()||(this.show_errors(),void this.keyup(a))},custom_check:function(a,b,c){return!!c(a.value)||(hasClass(a,"redborder")||(addClass(a,"redborder"),error_div=create_element("div",["input-error"]),set_html(error_div,b),a.parentNode.appendChild(error_div)),!1)},get_input_list:function(){return this.list},check_input:function(a){var b,c,d;for(input_count=a.length,void 0==input_count&&(input_count=1),c=0;c<input_count;c++){b=a instanceof Array?a[c]:a;for(d in this.error_messages)hasClass(b,d)&&(this[d](b.value)||this.errors.push([b,this.error_messages[d]]))}},is_valid:function(){return 0==this.errors.length},show_serverside_errors:function(a){for(var b,c=0;c<this.list.length;c++){var d=this.list[c].id.substr(this.form_prefix.length+1);void 0!=a[d]&&(hasClass(this.list[c],"redborder")||(addClass(this.list[c],"redborder"),b=create_element("div",["input-error"]),set_html(b,a[d]),this.list[c].parentNode.appendChild(b)))}this.keyup($AH(this.form_prefix))},show_errors:function(){for(var c,a=this.errors.length,d=0;d<a;d++)hasClass(this.errors[d][0],"redborder")||(addClass(this.errors[d][0],"redborder"),c=create_element("div",["input-error"]),set_html(c,this.errors[d][1]),this.errors[d][0].parentNode.appendChild(c));this.errors=[]},hide_error:function(a){var d,b=a.parentNode,c=b.childNodes;for(removeClass(a,"redborder"),d=0;d<c.length;d++)void 0!=c[d]&&hasClass(c[d],"input-error")&&b.removeChild(b.childNodes[d])},posnum:function(a){return""==trim(a)||a-0==a&&trim(""+a).length>0&&!(a<0)},not_zero:function(a){return!(a<=0)},req:function(a){return!(""==trim(a)||void 0==a)},select_no_zero:function(a){return 0!=a},email:function(a){var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)},keyup:function(a){add_event_on(a,".redborder","keyup",function(a,b){FormValidation.hide_error(a)}),add_event_on(a,".redborder","change",function(a,b){FormValidation.hide_error(a)})}},Popup={overlay:"popup-overlay",popup:"popup",open:!1,on:function(a,b,c){show($AH(this.overlay));var d=$AH(this.popup);show(d),fade_in(d),void 0==c&&removeClass($AH(this.popup),"loader"),set_html(d,"<div id='popup-buton' onclick='Popup.off()'>X</div><div id='popup-header'>"+b+"</div><div id='popup-content'>"+a+"</div>"),css(d,{top:document.body.scrollTop+30+"px"}),this.open=!0},off:function(){hide($AH(this.overlay)),$AH(this.popup).innerHTML="",hide($AH(this.popup)),this.open=!1,removeClass($AH(this.popup),"loader")},start_loader:function(){addClass($AH(this.popup),"loader"),this.on('<img src="http://ahsaphobby.net/granit/res/img/rolling.gif" />',"Lütfen bekleyin...",!0)},is_open:function(){return this.open}};